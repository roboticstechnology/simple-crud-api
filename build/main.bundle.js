(()=>{var e={738:(e,t,n)=>{const r=n(147),s=n(17),o=n(37);function i(e){console.log(`[dotenv][DEBUG] ${e}`)}const a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,c=/\\n/g,d=/\r\n|\n|\r/;function u(e,t){const n=Boolean(t&&t.debug),r={};return e.toString().split(d).forEach((function(e,t){const s=e.match(a);if(null!=s){const e=s[1];let t=s[2]||"";const n=t.length-1,o='"'===t[0]&&'"'===t[n];"'"===t[0]&&"'"===t[n]||o?(t=t.substring(1,n),o&&(t=t.replace(c,"\n"))):t=t.trim(),r[e]=t}else n&&i(`did not match key and value when parsing line ${t+1}: ${e}`)})),r}e.exports.config=function(e){let t=s.resolve(process.cwd(),".env"),n="utf8",a=!1;var c;e&&(null!=e.path&&(t="~"===(c=e.path)[0]?s.join(o.homedir(),c.slice(1)):c),null!=e.encoding&&(n=e.encoding),null!=e.debug&&(a=!0));try{const e=u(r.readFileSync(t,{encoding:n}),{debug:a});return Object.keys(e).forEach((function(t){Object.prototype.hasOwnProperty.call(process.env,t)?a&&i(`"${t}" is already defined in \`process.env\` and will not be overwritten`):process.env[t]=e[t]})),{parsed:e}}catch(e){return{error:e}}},e.exports.parse=u},147:e=>{"use strict";e.exports=require("fs")},37:e=>{"use strict";e.exports=require("os")},17:e=>{"use strict";e.exports=require("path")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=require("http"),t=require("url");var r=n(738);const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&s.test(e)},i=require("crypto");var a=n.n(i);const c=new Uint8Array(256);let d=c.length;function u(){return d>c.length-16&&(a().randomFillSync(c),d=0),c.slice(d,d+=16)}const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).substr(1));const f=function(e,t,n){const r=(e=e||{}).random||(e.rng||u)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){const n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!o(n))throw TypeError("Stringified UUID is invalid");return n}(r)};class p{constructor(e,t,n=[]){this.id=f(),this.name=e,this.age=t,this.hobbies=n}}let h=[new p("Alex",25,["JSON Senior Developer, MOONSHINE Wathcer"]),new p("Lina",27,["Ð¢ikToker 80 lvl"]),new p("Paha",32,["crypto currency trader"])];class g{static getAll=()=>h;static getById=e=>h.find((t=>t.id===e));static creat=e=>{h.push(new p({person:e}))};static update=(e,t)=>{h=h.map((n=>n.id===e?{...n,...t}:n))};static remove=e=>{h=h.filter((t=>t.id!==e))}}r.config();const v=console.log,{HOST:w,PORT:y}=process.env;class m extends Error{constructor(e,t,n){super(t),this.name=e,this.statusCode=n}}const O=e=>{if(e.length>2)throw new m("Invalid URL","resource is not found",404);if(2===e.length){if("person"!==e[0])throw new m("Invalid URL","resource is not found",404);if(t=e[1],!o(t)||4!==function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}(t))throw new m("Invalid PESON ID","PERSON ID is Invalid",400)}var t;if(1===e.length&&"person"!==e[0])throw new m("Invalid URL","resource is not found",404)};e.createServer(((e,n)=>{const{path:r}=t.parse(e.url,!0);let s=r.split("/").filter((e=>""!==e));const{method:o}=e;v("pathArr = ",s,"method=",o);try{if(O(s),1===s.length){if("GET"===o&&r==="/"+s.join("/")){const e=g.getAll();n.statusCode=200,n.end(JSON.stringify(e))}"POST"===o&&r==="/"+s.join("/")&&e.on("data",(e=>{try{const t=JSON.parse(e);(e=>{const t=["name","age","hobbies"].filter((t=>{if(!e[t])return t}));if(v(t),v(t.length),t.length)throw new m("Required Filds",`Required Filds: ${t.join(", ")}`,400)})(t),g.creat(t),n.statusCode=201,n.end()}catch(e){e instanceof m?(n.statusCode=e.statusCode,n.end(e.message)):(n.statusCode=500,n.end(e.message))}}))}if(2===s.length){if("GET"===o){const e=g.getById(s[1]);n.statusCode=200,n.end(JSON.stringify(e))}"DELETE"===o&&(g.remove(s[1]),n.statusCode=204,n.end("okok")),"PUT"===o&&e.on("data",(e=>{try{const t=JSON.parse(e);v(t),g.update(s[1],t),n.statusCode=200,n.end("okok")}catch(e){e instanceof m?(n.statusCode=e.statusCode,n.end(e.message)):(n.statusCode=500,n.end(e.message))}}))}}catch(e){v(e.message),e instanceof m?(n.statusCode=e.statusCode,n.end(e.message)):(n.statusCode=500,n.end(e.message))}})).listen(y,w,(()=>{v(`Server listening http://${w}:${y}`)}))})()})();